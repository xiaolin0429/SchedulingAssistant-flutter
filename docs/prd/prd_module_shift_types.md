## PRD: 排班助手 - 模块: 班次类型 (Shift Types) 功能拓展

**文档目的**: 本文档定义班次类型模块的下一阶段功能拓展。

---

### 功能拓展 2.1: 班次类型与模板关联 (Link Shift Types to Templates)

*   **目标**: 在创建或编辑班次模板时，允许用户直接选用已定义的班次类型，确保模板内容与用户自定义的班次信息一致。
*   **用户故事**:
    *   作为一名用户，在创建我的“标准工作周”模板时，我希望能为周一到周五选择我自定义的“常规班”类型，为周六周日选择“休息日”类型，这样模板就能精确反映我的实际班次设置。
*   **功能需求 (FR)**:
    *   FR2.1.1: **模板编辑器集成**: 在"班次模板"的创建/编辑界面（见功能拓展1.1），为周期内的每一天提供一个班次选择器。
    *   FR2.1.2: **班次选择器**: 该选择器应列出所有用户已定义的“班次类型”（包括名称和颜色标识），以及一个特殊的“休息”选项。
    *   FR2.1.3: **数据关联**: 模板数据中存储的是所选“班次类型”的ID，而不是复制其详细信息。
    *   FR2.1.4: **类型变更处理**:
        *   如果一个已被模板使用的“班次类型”被用户**编辑**（如修改了颜色或时间），应用该模板生成的**未来**班次应自动反映这些更改。（可选：提示用户是否更新已生成的历史班次）。
        *   如果一个已被模板使用的“班次类型”被用户**删除**，包含该类型的模板在编辑时应提示错误，并在应用时将该班次视作“未定义”或提供替换选项。
*   **非功能需求 (NFR)**:
    *   NFR2.1.1: **一致性**: 确保模板应用的班次与当前班次类型的定义保持一致。
*   **UI/UX**:
    *   模板编辑器中的班次选择器需要清晰易用。
    *   处理已删除班次类型的交互需要友好。
*   **依赖**: 强依赖"班次模板"功能 (功能拓展1.1)。

---
